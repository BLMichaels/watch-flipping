// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Watch {
  id                String   @id @default(cuid())
  brand             String
  model             String
  referenceNumber   String?
  title             String
  description       String?
  purchasePrice     Float
  purchaseDate      DateTime @default(now())
  
  // Projected revenue scenarios
  revenueAsIs       Float?   // Best case without service
  revenueCleaned    Float?   // Medium case with cleaning
  revenueServiced   Float?   // Basic case with full service
  
  // Status and condition
  status            String   @default("needs_service") // ready_to_sell, needs_service, problem_item, sold
  conditionNotes    String?
  notes             String?  // General notes/observations
  tags              String[] // Tags for categorization
  
  // Sale tracking
  soldDate          DateTime?
  soldPrice         Float?
  
  // Cost tracking
  serviceCost       Float?   // Cost of service/repair
  cleaningCost      Float?   // Cost of cleaning
  otherCosts        Float?   // Other expenses
  
  // Images
  images            String[] // Array of image URLs
  
  // eBay listing info
  ebayUrl           String?
  ebayListingId     String?
  
  // AI Analysis (if analyzed)
  aiAnalysis        String?  // JSON string of AI analysis
  aiRecommendation  String?  // buy, pass, maybe
  aiConfidence      Float?
  
  // Favorites
  isFavorite        Boolean  @default(false)
  
  // Timestamps
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  @@index([brand])
  @@index([status])
  @@index([isFavorite])
}

